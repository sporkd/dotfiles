export PATH="$HOME/.local/bin:$PATH"

if [ -f "/opt/homebrew/bin/brew" ]; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
elif [ -f "/usr/local/bin/brew" ]; then
  eval "$(/usr/local/bin/brew shellenv)"
fi

export SHELL="/bin/zsh"
export EDITOR="nvim"
export VISUAL="zed --wait"
export GIT_EDITOR="nvim"

# prompt
eval "$(starship init zsh)"

# packages
test -d "$HOME/.tea" && source <("$HOME/.tea/tea.xyz/v*/bin/tea" --magic=zsh --silent)

# fish(y)
source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh
source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /opt/homebrew/share/zsh-history-substring-search/zsh-history-substring-search.zsh
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down

# navigation
source /opt/homebrew/etc/profile.d/z.sh

# fzf
source $HOME/.config/fzf/key-bindings.zsh
export FZF_DEFAULT_COMMAND='rg --files --hidden --follow --glob "!doc/*"'

# ripgrep
export RIPGREP_CONFIG_PATH="$HOME/.config/ripgrep/ripgreprc"

# load zoxide (autojump alt)
eval "$(zoxide init zsh)"

# use nvim for man
export MANPAGER="nvim +Man!"

# neovim
alias vi=nvim
alias vim=nvim
alias :e=nvim
alias :q=exit
alias tree='et'

# ls
alias la="lsd -la"
alias ll="lsd -1"
alias ls="lsd -1"

# ranger
alias ranger="VISUAL=$EDITOR ranger"

# general
alias files='xplr'
alias icat='kitty +kitten icat'
alias recent='exa --header -la --sort oldest | head -n 25'
alias uuid="uuidgen | tr -d '\\n' | tr '[:upper:]' '[:lower:]' | pbcopy; pbpaste; echo"
alias weather='curl wttr.in'

# password
alias passgen='dd if=/dev/urandom bs=1 count=32 2>/dev/null | base64 | rev | cut -b 2- | rev'
